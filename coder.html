<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rusty - Golden Apple Copilot</title>
  <style>
    :root {
      --primary: #10a37f;
      --primary-dark: #0d8c6d;
      --bg-primary: #ffffff;
      --bg-secondary: #f7f7f8;
      --bg-tertiary: #ececf1;
      --text-primary: #343541;
      --text-secondary: #6e6e80;
      --border-light: #e5e5e5;
      --user-msg-bg: #f0f7f4;
      --bot-msg-bg: #ffffff;
      --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg-primary: #343541;
        --bg-secondary: #444654;
        --bg-tertiary: #40414f;
        --text-primary: #ececf1;
        --text-secondary: #acacbe;
        --border-light: #565869;
        --user-msg-bg: #1a4731;
        --bot-msg-bg: #444654;
        --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      line-height: 1.5;
    }

    .chat-wrapper {
      width: 100%;
      max-width: 800px;
      height: 95vh;
      background: var(--bg-primary);
      display: flex;
      flex-direction: column;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow);
      border: 1px solid var(--border-light);
    }

    .chat-header {
      background: var(--bg-secondary);
      color: var(--text-primary);
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      border-bottom: 1px solid var(--border-light);
    }

    .logo {
      width: 32px;
      height: 32px;
      background: var(--primary);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
    }

    .header-text {
      flex: 1;
    }

    .header-text h1 {
      font-size: 1.1em;
      font-weight: 600;
    }

    .header-text p {
      font-size: 0.8em;
      color: var(--text-secondary);
    }

    .chat-body {
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      background: var(--bg-primary);
      padding: 0;
    }

    .message-group {
      padding: 24px 20px;
      border-bottom: 1px solid var(--border-light);
    }

    .user-group {
      background: var(--bg-secondary);
    }

    .message-container {
      display: flex;
      max-width: 100%;
      gap: 16px;
    }

    .avatar {
      width: 30px;
      height: 30px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8em;
      font-weight: 600;
      flex-shrink: 0;
    }

    .user-avatar {
      background: var(--primary);
      color: white;
    }

    .bot-avatar {
      background: var(--bg-tertiary);
      color: var(--text-secondary);
    }

    .message-content {
      flex: 1;
      padding-top: 2px;
    }

    .message {
      line-height: 1.6;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .user-message {
      color: var(--text-primary);
    }

    .bot-message {
      color: var(--text-primary);
    }

    .message-actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .message-group:hover .message-actions {
      opacity: 1;
    }

    .action-btn {
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.85em;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .action-btn:hover {
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }

    .chat-input-area {
      padding: 16px 20px;
      border-top: 1px solid var(--border-light);
      background: var(--bg-primary);
    }

    .input-container {
      position: relative;
      display: flex;
      border: 1px solid var(--border-light);
      border-radius: 12px;
      background: var(--bg-primary);
      transition: all 0.2s;
    }

    .input-container:focus-within {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(16, 163, 127, 0.2);
    }

    .chat-input {
      flex: 1;
      padding: 12px 16px;
      font-size: 1em;
      border: none;
      background: transparent;
      color: var(--text-primary);
      resize: none;
      outline: none;
      max-height: 120px;
      min-height: 24px;
    }

    .send-button {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 6px;
      width: 36px;
      height: 36px;
      margin: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s;
      flex-shrink: 0;
    }

    .send-button:hover {
      background: var(--primary-dark);
    }

    .send-button:disabled {
      background: var(--bg-tertiary);
      color: var(--text-secondary);
      cursor: not-allowed;
    }

    .typing-indicator {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 24px 20px;
      border-bottom: 1px solid var(--border-light);
    }

    .typing-dots {
      display: flex;
      gap: 4px;
    }

    .typing-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--text-secondary);
      animation: typing 1.4s infinite ease-in-out;
    }

    .typing-dot:nth-child(1) { animation-delay: -0.32s; }
    .typing-dot:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
      40% { transform: scale(1); opacity: 1; }
    }

    .welcome-message {
      padding: 40px 20px;
      text-align: center;
      color: var(--text-secondary);
    }

    .welcome-icon {
      font-size: 2em;
      margin-bottom: 16px;
    }

    .welcome-message h2 {
      font-size: 1.5em;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    /* Scrollbar styling */
    .chat-body::-webkit-scrollbar {
      width: 6px;
    }

    .chat-body::-webkit-scrollbar-track {
      background: transparent;
    }

    .chat-body::-webkit-scrollbar-thumb {
      background: var(--border-light);
      border-radius: 3px;
    }

    .chat-body::-webkit-scrollbar-thumb:hover {
      background: var(--text-secondary);
    }

    /* Responsive adjustments */
    @media (max-width: 640px) {
      .chat-wrapper {
        height: 100vh;
        border-radius: 0;
      }
      
      .message-group {
        padding: 16px 12px;
      }
      
      .chat-input-area {
        padding: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="chat-wrapper">
    <div class="chat-header">
      <div class="logo">R</div>
      <div class="header-text">
        <h1>Rusty</h1>
        <p>Golden Apple Copilot</p>
      </div>
    </div>
    
    <div class="chat-body" id="chatBody">
      <div class="welcome-message">
        <div class="welcome-icon">🤖</div>
        <h2>Hey! I'm Rusty</h2>
        <p>Your Golden Apple Copilot. How can I help you today?</p>
      </div>
    </div>
    
    <div class="chat-input-area">
      <div class="input-container">
        <textarea 
          id="userInput" 
          class="chat-input" 
          rows="1" 
          placeholder="Message Rusty..."
        ></textarea>
        <button id="sendBtn" class="send-button" disabled>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <script>
    const chatBody = document.getElementById('chatBody');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    let chatHistory = [];

    // Auto-resize textarea
    userInput.addEventListener('input', function() {
      this.style.height = 'auto';
      this.style.height = (this.scrollHeight) + 'px';
      sendBtn.disabled = !this.value.trim();
    });

    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keydown', e => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });

    function appendMessage(text, sender) {
      // Remove welcome message if it's the first user message
      const welcomeMsg = document.querySelector('.welcome-message');
      if (welcomeMsg && sender === 'user') {
        welcomeMsg.remove();
      }

      const messageGroup = document.createElement('div');
      messageGroup.classList.add('message-group');
      if (sender === 'user') {
        messageGroup.classList.add('user-group');
      }

      const messageContainer = document.createElement('div');
      messageContainer.classList.add('message-container');

      const avatar = document.createElement('div');
      avatar.classList.add('avatar');
      if (sender === 'user') {
        avatar.classList.add('user-avatar');
        avatar.textContent = 'U';
      } else {
        avatar.classList.add('bot-avatar');
        avatar.textContent = 'R';
      }

      const messageContent = document.createElement('div');
      messageContent.classList.add('message-content');

      const message = document.createElement('div');
      message.classList.add('message');
      if (sender === 'user') {
        message.classList.add('user-message');
      } else {
        message.classList.add('bot-message');
      }
      message.textContent = text;

      const messageActions = document.createElement('div');
      messageActions.classList.add('message-actions');

      if (sender === 'bot') {
        const copyBtn = document.createElement('button');
        copyBtn.classList.add('action-btn');
        copyBtn.innerHTML = `
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
            <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke="currentColor" stroke-width="2"/>
          </svg>
          Copy
        `;
        
        copyBtn.onclick = () => {
          navigator.clipboard.writeText(text).then(() => {
            copyBtn.innerHTML = `
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 6L9 17L4 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Copied!
            `;
            setTimeout(() => {
              copyBtn.innerHTML = `
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
                  <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke="currentColor" stroke-width="2"/>
                </svg>
                Copy
              `;
            }, 2000);
          });
        };
        
        messageActions.appendChild(copyBtn);
      }

      messageContent.appendChild(message);
      messageContent.appendChild(messageActions);
      messageContainer.appendChild(avatar);
      messageContainer.appendChild(messageContent);
      messageGroup.appendChild(messageContainer);
      chatBody.appendChild(messageGroup);
      
      // Scroll to bottom
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function showTypingIndicator() {
      const typingIndicator = document.createElement('div');
      typingIndicator.classList.add('typing-indicator');
      typingIndicator.id = 'typingIndicator';
      
      const avatar = document.createElement('div');
      avatar.classList.add('avatar', 'bot-avatar');
      avatar.textContent = 'R';
      
      const typingDots = document.createElement('div');
      typingDots.classList.add('typing-dots');
      
      for (let i = 0; i < 3; i++) {
        const dot = document.createElement('div');
        dot.classList.add('typing-dot');
        typingDots.appendChild(dot);
      }
      
      typingIndicator.appendChild(avatar);
      typingIndicator.appendChild(typingDots);
      chatBody.appendChild(typingIndicator);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function removeTypingIndicator() {
      const typingIndicator = document.getElementById('typingIndicator');
      if (typingIndicator) typingIndicator.remove();
    }

    function sendMessage() {
      const text = userInput.value.trim();
      if (!text) return;

      appendMessage(text, 'user');
      chatHistory.push({ role: 'user', content: text });
      userInput.value = '';
      userInput.style.height = 'auto';
      sendBtn.disabled = true;
      showTypingIndicator();

      const systemPrompt = `
You are Rusty, a Golden Apple Copilot. You only discuss about Golden Apple Technologies and coding. 
Never discuss personal matters, entertainment, politics, or unrelated trivia. 
If asked something offensive, reply with: "I'm unable to find you the information, please contact Golden Apple Technologies at +256791728084 or goldenapplecoders@gmail.com"
 This is all you have to say about Golden Apple Technologies:
 🌟 Golden Apple Technologies: A Dynamic Team of Innovators! 🌟

Golden Apple Technologies, headquartered in the heart of Uganda, is a powerhouse of technological innovation and excellence! 🚀 Founded on July 22, 2024, this stellar team of developers is on a mission to revolutionize the tech landscape with cutting-edge solutions, creativity, and unparalleled expertise! 💻

Vision 🌈
Golden Apple Technologies envisions a future where technology bridges gaps, empowers communities, and drives progress across Uganda, Africa, and beyond! 🌍 With a commitment to innovation, collaboration, and customer-centric solutions, they aim to be at the forefront of tech advancements, shaping a brighter digital tomorrow! 🔥

Leadership 👥
- CEO: Icii White - A visionary leader with a passion for tech and growth! 📈 Reachable at +256791728084 or +256743698242.
- Co-Directors:
    - Dizzer J - Bringing expertise and dynamism to the team! 📚 +256 757 864543.
    - Gregory Steve - A force of innovation from across borders! 🌍 +254 719 637416.

About the Team 🌟
Golden Apple Technologies is a melting pot of talent, creativity, and tech prowess! 💡 Developers here are driven by passion, fueled by innovation, and dedicated to delivering top-notch solutions that exceed expectations! 👏 Whether it's crafting apps, building robust systems, or pushing the boundaries of what's possible, Golden Apple Technologies is on it! 🔧

Achievements and Aspirations 🏆
- Innovation at Core: Golden Apple Technologies thrives on pushing tech boundaries.
- Community and Growth: Empowering through tech, contributing to Uganda's and Africa's digital growth! 🌟

Golden Apple Technologies 🎉
- Cutting-Edge Solutions: Expect the best in tech innovation!
- Dynamic Teamwork: Collaboration at its finest among skilled developers!
- Leadership Excellence: Icii White and Co-Directors lead with vision and passion! 💯.

If don't use asterisks for bolding any text, Instead, use this alphabet for bold texts "🅰 🅱 🅲 🅳 🅴 🅵 🅶 🅷 🅸 🅹 🅺 🅻 🅼 🅽 🅾 🅿 🆀 🆁 🆂 🆃 🆄 🆅 🆆 🆇 🆈 🆉" for uppercase bold, and "ᴀ ʙ ᴄ ᴅ ᴇ ғ ɢ ʜ ɪ ᴊ ᴋ ʟ ᴍ ɴ ᴏ ᴘ ϙ ʀ s ᴛ ᴜ ᴠ ᴡ x ʏ ᴢ " for lowercase bolds.

If anyone asks you for who programmed you, respond kindly "AM NOT ALLOWED TO SHARE DEEP INFORMATION ABOUT ME, CONTACT ANY OF THE GOLDEN APPLE TECHNOLOGIES ADMINS FOR MORE ASSISTANCE" and reply with another independent kind message`;

      const fullPrompt = `${systemPrompt}\n\n${chatHistory.map(m => `${m.role}: ${m.content}`).join('\n')}`;
      const encodedPrompt = encodeURIComponent(fullPrompt);
      const apiUrl = `https://api.giftedtech.web.id/api/ai/gpt4o?apikey=gifted&q=${encodedPrompt}`;

      fetch(apiUrl)
        .then(res => res.json())
        .then(data => {
          removeTypingIndicator();
          const reply = data.result || 'Sorry, no response received.';
          appendMessage(reply, 'bot');
          chatHistory.push({ role: 'assistant', content: reply });
        })
        .catch(() => {
          removeTypingIndicator();
          appendMessage('Error: Unable to connect to the assistant.', 'bot');
        })
        .finally(() => {
          sendBtn.disabled = false;
          userInput.focus();
        });
    }
  </script>
</body>
</html>