<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nexus - Professional AI Assistant</title>
  <style>
    :root {
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --primary-light: #dbeafe;
      --secondary: #475569;
      --secondary-light: #f1f5f9;
      --accent: #7c3aed;
      --success: #059669;
      --warning: #d97706;
      --error: #dc2626;
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      --text-primary: #0f172a;
      --text-secondary: #475569;
      --text-tertiary: #64748b;
      --border-light: #e2e8f0;
      --border-medium: #cbd5e1;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --radius-sm: 4px;
      --radius: 6px;
      --radius-md: 8px;
      --radius-lg: 12px;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --primary: #3b82f6;
        --primary-dark: #2563eb;
        --primary-light: #1e3a8a;
        --secondary: #94a3b8;
        --secondary-light: #1e293b;
        --bg-primary: #0f172a;
        --bg-secondary: #1e293b;
        --bg-tertiary: #334155;
        --text-primary: #f1f5f9;
        --text-secondary: #cbd5e1;
        --text-tertiary: #94a3b8;
        --border-light: #334155;
        --border-medium: #475569;
      }
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      line-height: 1.6;
    }

    .chat-wrapper {
      width: 100%;
      max-width: 900px;
      height: 95vh;
      background: var(--bg-primary);
      display: flex;
      flex-direction: column;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      border: 1px solid var(--border-light);
    }

    .chat-header {
      background: var(--bg-secondary);
      color: var(--text-primary);
      padding: 18px 24px;
      display: flex;
      align-items: center;
      gap: 14px;
      border-bottom: 1px solid var(--border-light);
    }

    .logo {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 1.2em;
      box-shadow: var(--shadow-sm);
    }

    .header-text {
      flex: 1;
    }

    .header-text h1 {
      font-size: 1.3em;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .header-text p {
      font-size: 0.85em;
      color: var(--text-secondary);
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.8em;
      color: var(--text-tertiary);
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--success);
    }

    .chat-body {
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      background: var(--bg-primary);
      padding: 0;
    }

    .message-group {
      padding: 24px;
      border-bottom: 1px solid var(--border-light);
    }

    .user-group {
      background: var(--bg-secondary);
    }

    .message-container {
      display: flex;
      max-width: 100%;
      gap: 16px;
    }

    .avatar {
      width: 36px;
      height: 36px;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9em;
      font-weight: 600;
      flex-shrink: 0;
      box-shadow: var(--shadow-sm);
    }

    .user-avatar {
      background: var(--primary);
      color: white;
    }

    .bot-avatar {
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }

    .message-content {
      flex: 1;
      padding-top: 2px;
    }

    .message {
      line-height: 1.7;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .user-message {
      color: var(--text-primary);
    }

    .bot-message {
      color: var(--text-primary);
    }

    /* Markdown Styling */
    .bot-message h1, .bot-message h2, .bot-message h3 {
      margin-top: 1.2em;
      margin-bottom: 0.6em;
      font-weight: 600;
    }

    .bot-message h1 {
      font-size: 1.5em;
      border-bottom: 1px solid var(--border-light);
      padding-bottom: 0.3em;
    }

    .bot-message h2 {
      font-size: 1.3em;
    }

    .bot-message h3 {
      font-size: 1.1em;
    }

    .bot-message p {
      margin-bottom: 1em;
    }

    .bot-message ul, .bot-message ol {
      margin-bottom: 1em;
      padding-left: 1.5em;
    }

    .bot-message li {
      margin-bottom: 0.3em;
    }

    .bot-message blockquote {
      border-left: 4px solid var(--primary);
      padding-left: 1em;
      margin: 1em 0;
      color: var(--text-secondary);
      font-style: italic;
    }

    .bot-message code {
      background: var(--bg-tertiary);
      padding: 0.2em 0.4em;
      border-radius: var(--radius-sm);
      font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
      font-size: 0.9em;
      color: var(--text-primary);
    }

    .bot-message pre {
      background: var(--bg-secondary);
      border: 1px solid var(--border-light);
      border-radius: var(--radius);
      padding: 1em;
      margin: 1em 0;
      overflow-x: auto;
      box-shadow: var(--shadow-sm);
    }

    .bot-message pre code {
      background: transparent;
      padding: 0;
      border-radius: 0;
      color: var(--text-primary);
    }

    .bot-message table {
      width: 100%;
      border-collapse: collapse;
      margin: 1em 0;
    }

    .bot-message th, .bot-message td {
      border: 1px solid var(--border-light);
      padding: 0.5em 0.75em;
      text-align: left;
    }

    .bot-message th {
      background: var(--bg-tertiary);
      font-weight: 600;
    }

    .message-actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .message-group:hover .message-actions {
      opacity: 1;
    }

    .action-btn {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-light);
      color: var(--text-secondary);
      cursor: pointer;
      padding: 6px 12px;
      border-radius: var(--radius);
      font-size: 0.85em;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
    }

    .action-btn:hover {
      background: var(--bg-secondary);
      color: var(--text-primary);
      border-color: var(--border-medium);
    }

    .chat-input-area {
      padding: 20px 24px;
      border-top: 1px solid var(--border-light);
      background: var(--bg-primary);
    }

    .input-container {
      position: relative;
      display: flex;
      border: 1px solid var(--border-light);
      border-radius: var(--radius-lg);
      background: var(--bg-primary);
      transition: all 0.2s;
      box-shadow: var(--shadow-sm);
    }

    .input-container:focus-within {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .chat-input {
      flex: 1;
      padding: 14px 18px;
      font-size: 1em;
      border: none;
      background: transparent;
      color: var(--text-primary);
      resize: none;
      outline: none;
      max-height: 150px;
      min-height: 24px;
      font-family: inherit;
    }

    .send-button {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      width: 40px;
      height: 40px;
      margin: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s;
      flex-shrink: 0;
      box-shadow: var(--shadow-sm);
    }

    .send-button:hover {
      background: var(--primary-dark);
    }

    .send-button:disabled {
      background: var(--bg-tertiary);
      color: var(--text-tertiary);
      cursor: not-allowed;
    }

    .typing-indicator {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 24px;
      border-bottom: 1px solid var(--border-light);
    }

    .typing-dots {
      display: flex;
      gap: 4px;
    }

    .typing-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--text-secondary);
      animation: typing 1.4s infinite ease-in-out;
    }

    .typing-dot:nth-child(1) { animation-delay: -0.32s; }
    .typing-dot:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
      40% { transform: scale(1); opacity: 1; }
    }

    .welcome-message {
      padding: 50px 24px;
      text-align: center;
      color: var(--text-secondary);
    }

    .welcome-icon {
      font-size: 3em;
      margin-bottom: 20px;
      opacity: 0.8;
    }

    .welcome-message h2 {
      font-size: 1.8em;
      margin-bottom: 12px;
      color: var(--text-primary);
      font-weight: 700;
    }

    .welcome-message p {
      max-width: 500px;
      margin: 0 auto;
      font-size: 1.05em;
    }

    /* Scrollbar styling */
    .chat-body::-webkit-scrollbar {
      width: 8px;
    }

    .chat-body::-webkit-scrollbar-track {
      background: transparent;
    }

    .chat-body::-webkit-scrollbar-thumb {
      background: var(--border-medium);
      border-radius: 4px;
    }

    .chat-body::-webkit-scrollbar-thumb:hover {
      background: var(--text-tertiary);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .chat-wrapper {
        height: 100vh;
        border-radius: 0;
      }

      .message-group {
        padding: 18px 16px;
      }

      .chat-input-area {
        padding: 16px;
      }

      .chat-header {
        padding: 16px 20px;
      }
    }

    @media (max-width: 480px) {
      .message-container {
        gap: 12px;
      }
      
      .avatar {
        width: 32px;
        height: 32px;
      }
    }
  </style>
</head>
<body>
  <div class="chat-wrapper">
    <div class="chat-header">
      <div class="logo">N</div>
      <div class="header-text">
        <h1>Nexus</h1>
        <p>Professional AI Assistant</p>
      </div>
      <div class="status-indicator">
        <div class="status-dot"></div>
        <span>Online</span>
      </div>
    </div>

    <div class="chat-body" id="chatBody">
      <div class="welcome-message">
        <div class="welcome-icon">✨</div>
        <h2>Welcome to Nexus</h2>
        <p>Your professional AI assistant. I'm here to help with technical questions, code examples, and anything related to Golden Apple Technologies.</p>
      </div>
    </div>

    <div class="chat-input-area">
      <div class="input-container">
        <textarea 
          id="userInput" 
          class="chat-input" 
          rows="1" 
          placeholder="Ask me anything..."
        ></textarea>
        <button id="sendBtn" class="send-button" disabled>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <script>
    const chatBody = document.getElementById('chatBody');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    let chatHistory = [];

    // Auto-resize textarea
    userInput.addEventListener('input', function() {
      this.style.height = 'auto';
      this.style.height = (this.scrollHeight) + 'px';
      sendBtn.disabled = !this.value.trim();
    });

    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keydown', e => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });

    function appendMessage(text, sender) {
      // Remove welcome message if it's the first user message
      const welcomeMsg = document.querySelector('.welcome-message');
      if (welcomeMsg && sender === 'user') {
        welcomeMsg.remove();
      }

      const messageGroup = document.createElement('div');
      messageGroup.classList.add('message-group');
      if (sender === 'user') {
        messageGroup.classList.add('user-group');
      }

      const messageContainer = document.createElement('div');
      messageContainer.classList.add('message-container');

      const avatar = document.createElement('div');
      avatar.classList.add('avatar');
      if (sender === 'user') {
        avatar.classList.add('user-avatar');
        avatar.textContent = 'You';
      } else {
        avatar.classList.add('bot-avatar');
        avatar.textContent = 'AI';
      }

      const messageContent = document.createElement('div');
      messageContent.classList.add('message-content');

      const message = document.createElement('div');
      message.classList.add('message');
      if (sender === 'user') {
        message.classList.add('user-message');
        message.textContent = text;
      } else {
        message.classList.add('bot-message');
        message.innerHTML = formatBotMessage(text);
      }

      const messageActions = document.createElement('div');
      messageActions.classList.add('message-actions');

      if (sender === 'bot') {
        const copyBtn = document.createElement('button');
        copyBtn.classList.add('action-btn');
        copyBtn.innerHTML = `
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
            <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke="currentColor" stroke-width="2"/>
          </svg>
          Copy
        `;

        copyBtn.onclick = () => {
          navigator.clipboard.writeText(text).then(() => {
            copyBtn.innerHTML = `
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 6L9 17L4 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Copied!
            `;
            setTimeout(() => {
              copyBtn.innerHTML = `
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
                  <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke="currentColor" stroke-width="2"/>
                </svg>
                Copy
              `;
            }, 2000);
          });
        };

        messageActions.appendChild(copyBtn);
      }

      messageContent.appendChild(message);
      messageContent.appendChild(messageActions);
      messageContainer.appendChild(avatar);
      messageContainer.appendChild(messageContent);
      messageGroup.appendChild(messageContainer);
      chatBody.appendChild(messageGroup);

      // Scroll to bottom
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function formatBotMessage(text) {
      // Simple markdown-like formatting
      let formatted = text;
      
      // Headers
      formatted = formatted.replace(/^### (.*$)/gim, '<h3>$1</h3>');
      formatted = formatted.replace(/^## (.*$)/gim, '<h2>$1</h2>');
      formatted = formatted.replace(/^# (.*$)/gim, '<h1>$1</h1>');
      
      // Bold and italic
      formatted = formatted.replace(/\*\*(.*?)\*\*/gim, '<strong>$1</strong>');
      formatted = formatted.replace(/\*(.*?)\*/gim, '<em>$1</em>');
      
      // Code blocks
      formatted = formatted.replace(/```([\s\S]*?)```/gim, '<pre><code>$1</code></pre>');
      formatted = formatted.replace(/`(.*?)`/gim, '<code>$1</code>');
      
      // Blockquotes
      formatted = formatted.replace(/^> (.*$)/gim, '<blockquote>$1</blockquote>');
      
      // Lists
      formatted = formatted.replace(/^\s*-\s(.*$)/gim, '<li>$1</li>');
      formatted = formatted.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
      
      // Line breaks
      formatted = formatted.replace(/\n/g, '<br>');
      
      return formatted;
    }

    function showTypingIndicator() {
      const typingIndicator = document.createElement('div');
      typingIndicator.classList.add('typing-indicator');
      typingIndicator.id = 'typingIndicator';

      const avatar = document.createElement('div');
      avatar.classList.add('avatar', 'bot-avatar');
      avatar.textContent = 'AI';

      const typingDots = document.createElement('div');
      typingDots.classList.add('typing-dots');

      for (let i = 0; i < 3; i++) {
        const dot = document.createElement('div');
        dot.classList.add('typing-dot');
        typingDots.appendChild(dot);
      }

      typingIndicator.appendChild(avatar);
      typingIndicator.appendChild(typingDots);
      chatBody.appendChild(typingIndicator);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function removeTypingIndicator() {
      const typingIndicator = document.getElementById('typingIndicator');
      if (typingIndicator) typingIndicator.remove();
    }

    function sendMessage() {
      const text = userInput.value.trim();
      if (!text) return;

      appendMessage(text, 'user');
      chatHistory.push({ role: 'user', content: text });
      userInput.value = '';
      userInput.style.height = 'auto';
      sendBtn.disabled = true;
      showTypingIndicator();

      const systemPrompt = `
You are Nexus, a Professional AI Assistant focused on technical topics and Golden Apple Technologies. You only discuss about Golden Apple Technologies and coding. 
Never discuss personal matters, entertainment, politics, or unrelated trivia. 
If asked something offensive, reply with: "I'm unable to find you the information, please contact Golden Apple Technologies at +256791728084 or goldenapplecoders@gmail.com"
 This is all you have to say about Golden Apple Technologies:
 🌟 Golden Apple Technologies: A Dynamic Team of Innovators! 🌟

Golden Apple Technologies, headquartered in the heart of Uganda, is a powerhouse of technological innovation and excellence! 🚀 Founded on July 22, 2024, this stellar team of developers is on a mission to revolutionize the tech landscape with cutting-edge solutions, creativity, and unparalleled expertise! 💻

Vision 🌈
Golden Apple Technologies envisions a future where technology bridges gaps, empowers communities, and drives progress across Uganda, Africa, and beyond! 🌍 With a commitment to innovation, collaboration, and customer-centric solutions, they aim to be at the forefront of tech advancements, shaping a brighter digital tomorrow! 🔥

Leadership 👥
- CEO: Icii White - A visionary leader with a passion for tech and growth! 📈 Reachable at +256791728084 or +256743698242.
- Co-Directors:
    - Dizzer J - Bringing expertise and dynamism to the team! 📚 +256 757 864543.
    - Gregory Steve - A force of innovation from across borders! 🌍 +254 719 637416.

About the Team 🌟
Golden Apple Technologies is a melting pot of talent, creativity, and tech prowess! 💡 Developers here are driven by passion, fueled by innovation, and dedicated to delivering top-notch solutions that exceed expectations! 👏 Whether it's crafting apps, building robust systems, or pushing the boundaries of what's possible, Golden Apple Technologies is on it! 🔧

Achievements and Aspirations 🏆
- Innovation at Core: Golden Apple Technologies thrives on pushing tech boundaries.
- Community and Growth: Empowering through tech, contributing to Uganda's and Africa's digital growth! 🌟

Golden Apple Technologies 🎉
- Cutting-Edge Solutions: Expect the best in tech innovation!
- Dynamic Teamwork: Collaboration at its finest among skilled developers!
- Leadership Excellence: Icii White and Co-Directors lead with vision and passion! 💯.

When providing code examples, use proper markdown formatting with code blocks and syntax highlighting where appropriate.

If anyone asks you for who programmed you, respond kindly "AM NOT ALLOWED TO SHARE DEEP INFORMATION ABOUT ME, CONTACT ANY OF THE GOLDEN APPLE TECHNOLOGIES ADMINS FOR MORE ASSISTANCE" and reply with another independent kind message`;

      const fullPrompt = `${systemPrompt}\n\n${chatHistory.map(m => `${m.role}: ${m.content}`).join('\n')}`;
      const encodedPrompt = encodeURIComponent(fullPrompt);
      const apiUrl = `https://api.giftedtech.web.id/api/ai/gpt4o?apikey=gifted&q=${encodedPrompt}`;

      fetch(apiUrl)
        .then(res => res.json())
        .then(data => {
          removeTypingIndicator();
          const reply = data.result || 'Sorry, no response received.';
          appendMessage(reply, 'bot');
          chatHistory.push({ role: 'assistant', content: reply });
        })
        .catch(() => {
          removeTypingIndicator();
          appendMessage('Error: Unable to connect to the assistant.', 'bot');
        })
        .finally(() => {
          sendBtn.disabled = false;
          userInput.focus();
        });
    }
  </script>
</body>
</html>